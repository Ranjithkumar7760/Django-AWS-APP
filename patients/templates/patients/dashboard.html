{% extends 'base.html' %}

{% block content %}
<h2 style="text-align: center; color: #007BFF; margin-bottom: 20px;">Patient Records</h2>

<!-- Add New Patient Button -->
<div style="text-align: right; margin-bottom: 20px;">
    <a href="{% url 'create_patient' %}" style="background-color: #28a745; color: white; padding: 10px 15px; text-decoration: none; border-radius: 5px; font-weight: bold;">+ Add New Patient</a>
</div>

<!-- Patient Records Table -->
<table style="width: 100%; border-collapse: collapse; background-color: white; border-radius: 8px; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);">
    <tr style="background-color: #007BFF; color: white;">
        <th style="padding: 10px; text-align: left;">Name</th>
        <th style="padding: 10px; text-align: left;">Age</th>
        <th style="padding: 10px; text-align: left;">Diagnosis</th>
        <th style="padding: 10px; text-align: left;">Actions</th>
    </tr>

    {% for patient in patients %}
    <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 10px;">{{ patient.name }}</td>
        <td style="padding: 10px;">{{ patient.age }}</td>
        <td style="padding: 10px;">{{ patient.diagnosis }}</td>
        <td style="padding: 10px;">
            <a href="{% url 'update_patient' pk=patient.pk %}" style="color: #007BFF; text-decoration: none; font-weight: bold;">Edit</a> |
            <a href="{% url 'delete_patient' pk=patient.pk %}" style="color: red; text-decoration: none; font-weight: bold;" onclick="return confirm('Are you sure you want to delete this patient?');">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4" style="text-align: center; padding: 15px; color: #777;">No patients found.</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
